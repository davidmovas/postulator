1. Общее описание
   Система для SEO-специалистов, работающих с WordPress сайтами, которая позволяет создавать сложную иерархическую структуру страниц (дерево сайта) и автоматизировать генерацию контента с использованием ИИ.
   Стек технологий: Wails (Go + Next.js), TypeScript, React Flow для визуализации дерева.

2. Ключевые компоненты системы
   2.1 Конструктор дерева сайта (Site Tree Builder)
   Визуальный редактор на React Flow:

Интерактивный канвас с drag-and-drop
Zoom/pan для навигации по большим деревьям
Auto-layout с использованием dagre
Кастомные ноды с shadcn UI компонентами
Sidebar с древовидным списком (React Arborist)
2.2 Способы создания и наполнения дерева
При создании нового дерева:
1. Создание с нуля (Manual)

Пустой канвас
Пользователь вручную добавляет узлы
Source: manual

2. Импорт структуры (Import)

Загрузка из файла (JSON/CSV/Excel)
Парсинг и построение дерева
Source: imported
Сохранение ссылки на источник для возможной ре-синхронизации

3. ИИ-генерация структуры (AI Generate)

Пользователь задает:

Тематику сайта
Количество уровней
Примерное количество страниц
Ключевые категории (опционально)


ИИ генерирует структуру с предложенными slug, title, keywords
Source: generated

4. Сканирование существующего сайта (Site Scan) ⭐ НОВОЕ

Пользователь указывает URL сайта
Система сканирует sitemap.xml или обходит сайт
Извлекает существующую структуру:

URL каждой страницы
Title (из meta)
Основные keywords (анализ контента)
Тип страницы


Строит дерево на основе URL-структуры
Source: scanned
Сохраняет source_url для каждого узла
Помечает все узлы как is_synced: true

В процессе редактирования (всегда доступно):
Дополнительная генерация:

Выбор узла → "Догенерировать дочерние страницы"
ИИ предлагает расширение структуры под выбранной нодой
Новые узлы помечаются как source: generated

Дополнительный импорт:

"Импортировать в выбранный узел"
Добавление структуры из файла как дочерние элементы
Помечаются как source: imported

Ре-сканирование:

Для узлов с source: scanned
Кнопка "Синхронизировать с сайтом"
Проверка изменений на источнике
Опции: обновить существующие / добавить новые / удалить несуществующие

Ручное добавление:

В любой момент можно добавлять узлы вручную
Source: manual

2.3 Сканер сайта (Site Scanner)
Функционал:

Способы сканирования:

По sitemap.xml (быстрый, точный)
Рекурсивный обход (crawler) - для сайтов без sitemap
Комбинированный подход


Извлекаемые данные:

URL структура
Title страницы
Meta description
H1-H6 заголовки
Основные keywords (TF-IDF анализ или простое извлечение)
Тип контента (определение по URL паттернам: /blog/, /page/, и т.д.)
Статус страницы (200, 301, 404)


Построение дерева:

Анализ URL-структуры для определения иерархии
Пример: /sport/gym/equipment → 3 уровня
Автоматическое создание родительских узлов если их нет в sitemap


Маркировка узлов:

source: scanned
source_url: <оригинальный URL>
is_synced: true
last_sync_date: <дата сканирования>

Синхронизация:

Кнопка "Ре-сканировать" для обновления
Визуальное отображение:

- Узел синхронизирован
- Узел устарел (изменения на источнике)
- Новый узел (создан в программе)

Режимы синхронизации:

Только обновить метаданные (title, keywords)
Добавить новые страницы с сайта
Удалить страницы, которых больше нет на сайте
Полная синхронизация


2.4 Операции с деревом в редакторе
Основные операции:

Добавление узла (вручную)
Удаление узлов
Перемещение узлов (drag-and-drop)
Копирование узлов/веток
Массовое редактирование (bulk edit) выбранных узлов
Поиск и фильтрация:

По названию
По source
По статусу синхронизации
По статусу публикации



ИИ-операции (всегда доступны):

"Догенерировать детей" для выбранного узла
"Улучшить структуру" (ИИ-анализ и предложения)
"Предложить keywords" для узла

Импорт-операции:

"Импортировать в узел" (добавление из файла)
"Добавить из буфера" (вставка скопированной структуры)

Экспорт:

Экспорт всего дерева
Экспорт выбранной ветки
Форматы: JSON, CSV, Excel

История:

Версионирование дерева
Undo/Redo
История изменений


2.5 Анализатор и валидатор структуры
SEO-анализ:

Проверка глубины вложенности (рекомендация: не более 3-4 уровней)
Анализ URL-структуры (длина, читаемость slug)
Проверка на дублирующиеся slug
Анализ распределения ключевых слов (каннибализация)
Проверка наличия родительских страниц

ИИ-помощник:

Предложения по улучшению структуры
Рекомендации недостающих разделов
Анализ конкурентов по ключевым словам
Оценка потенциального трафика для веток

Визуализация:

Тепловая карта по приоритетности страниц
Граф связей между разделами
Статистика: глубина, количество страниц, статусы


2.6 Движок генерации контента
Стратегии генерации:
Стратегия 1: Базовая генерация

Вход: URL + Title + Keywords
Процесс: Прямая генерация через ИИ с промптом
Выход: Готовый контент

Стратегия 2: Генерация с анализом конкурентов

Вход: Keywords + количество конкурентов (N)
Процесс:

Поиск топ-N результатов по ключевым словам
Парсинг и анализ контента конкурентов
Выявление лучших практик (структура, охват тем, длина)
Генерация контента на основе анализа


Выход: SEO-оптимизированный контент

Стратегия 3: Генерация через внешние сервисы

Интеграция с SEO-сервисами:

Ahrefs API (анализ конкурентов, ключевые слова)
SEMrush API (рекомендации по контенту)
SurferSEO (контентный анализ)


Процесс: Получение рекомендаций → Генерация контента

Стратегия 4: Гибридная генерация

Комбинация нескольких стратегий
Пользователь задает "рецепт" генерации

Дополнительные параметры генерации:

Длина контента (короткая/средняя/длинная/custom)
Tone of voice (формальный/дружелюбный/экспертный)
Структурные элементы (FAQ, таблицы, списки)
Мультимедиа (запрос на генерацию изображений)
Язык контента

2.7 Планировщик и Исполнитель (Job System)
Режимы работы:
Режим 1: Реалтайм

Моментальная генерация и публикация
Для небольших объемов (до 10-20 страниц)
С прогресс-баром

Режим 2: Фоновые задачи (Jobs)

Создание очереди задач
Настройки выполнения:

Приоритет задач
Расписание (немедленно/отложенно/по графику)
Ограничение скорости (N страниц в час)
Случайные задержки (имитация естественного поведения)
Retry логика при ошибках

Режим 3: Поэтапный

Генерация контента → Ревью пользователем → Публикация
Промежуточное сохранение в черновики

Выбор страниц для реализации:

Все дерево целиком
Выбранные узлы и их потомки
Только узлы определенной глубины
По фильтрам (тип, статус, source, ключевые слова)
Случайная выборка
Только новые узлы (не синхронизированные с сайтом)

Мониторинг выполнения:

Дашборд с прогрессом
Логи успешных/проваленных операций
Уведомления (desktop) о завершении
Статистика (время, токены ИИ, стоимость)

2.8 Система внутренней перелинковки
(Отдельный модуль, интегрируемый с основной системой)
Стратегии перелинковки:

Автоматическая при генерации

ИИ добавляет ссылки на релевантные страницы во время генерации
Контекстные анкоры

Постобработка существующего контента

Анализ всех страниц в дереве
Добавление внутренних ссылок в уже опубликованный контент

Умная перелинковка

Анализ семантической близости страниц
Построение графа релевантности
Рекомендации оптимального количества ссылок

Параметры:

Максимум ссылок на странице
Стратегия распределения (равномерно/приоритет важным страницам)
Типы анкоров (exact match/partial/LSI)
Ограничение глубины ссылок (только на страницы ±N уровней)

## 4. Пользовательские сценарии

### Сценарий 1: Создание дерева с нуля

1. Пользователь выбирает сайт
2. Создает новое дерево → выбирает способ:
    - **Manual**: начинает добавлять узлы вручную
    - **Import**: загружает файл структуры
    - **AI Generate**: задает параметры, ИИ генерирует
    - **Site Scan**: указывает URL, система сканирует
3. Работает с деревом в React Flow редакторе
4. В процессе может:
    - Догенерировать дочерние узлы через ИИ
    - Импортировать дополнительные узлы
    - Ре-сканировать для синхронизации
5. Запускает анализ структуры → получает рекомендации
6. Настраивает стратегии генерации
7. Запускает генерацию контента (выбирает режим и узлы)
8. Мониторит прогресс
9. (Опционально) Применяет систему перелинковки

### Сценарий 2: Работа с существующим сайтом

1. Пользователь создает дерево через "Site Scan"
2. Система сканирует сайт → строит дерево
3. Все узлы помечены как `source: scanned`, `is_synced: true`
4. Пользователь анализирует структуру
5. Добавляет новые узлы вручную или через ИИ-генерацию
6. Новые узлы помечены как `source: manual/generated`
7. Генерирует контент только для новых узлов
8. Публикует новые страницы
9. Периодически запускает "Ре-сканирование" для синхронизации

### Сценарий 3: Комбинированный подход

1. Пользователь импортирует базовую структуру из Excel
2. Система строит дерево → узлы помечены как `imported`
3. Для нескольких веток запускает ИИ-догенерацию
4. Новые узлы помечены как `generated`
5. Некоторые узлы редактирует вручную → меняются на `manual`
6. Настраивает разные стратегии генерации для разных веток
7. Запускает фоновую задачу на генерацию всего дерева
8. В процессе выполнения может добавлять новые узлы
9. После завершения применяет перелинковку
6. Технические улучшения и фичи

6.1 Интеллектуальные возможности

Кластеризация ключевых слов

Автоматическая группировка похожих keywords
Предложение оптимальной структуры на основе кластеров


Предиктивная аналитика

Оценка потенциального трафика для каждого узла
Приоритизация страниц по ROI


A/B тестирование структуры

Создание вариантов дерева
Сравнение эффективности



6.2 Интеграции

WordPress

Полная интеграция с таксономиями
Поддержка Custom Post Types
Работа с ACF полями


SEO плагины

Yoast SEO
Rank Math
All in One SEO


Аналитика

Google Analytics (отслеживание созданных страниц)
Google Search Console (индексация, ошибки)


ИИ-провайдеры

OpenAI (GPT-4, GPT-4o)
Claude (Anthropic)
Gemini (Google)
Выбор модели для каждой задачи



6.3 Работа с контентом

Версионирование контента

История изменений каждой страницы
Возможность отката


Многоязычность

Генерация на разных языках
Поддержка WPML/Polylang


Медиа-генерация

Автоматическое создание изображений
Генерация featured images
Оптимизация alt-текстов



6.4 Контроль качества

Проверка уникальности

Интеграция с Copyscape
Проверка перед публикацией


SEO-чеклист

Автоматическая проверка перед публикацией
Title, meta description, структура заголовков


Ревью-система

Промежуточная проверка контента
Система аппрува для команд


Качество контента

Проверка читабельности
Грамматика и орфография

7. TODO List - План реализации
   Фаза 1: MVP - Базовый конструктор дерева
   Backend (Go):

Создать модели данных (SiteTree, TreeNode)
API endpoints для CRUD операций с деревом

POST /api/site-trees - создание дерева
GET /api/site-trees/:id - получение дерева
PUT /api/site-trees/:id - обновление дерева
DELETE /api/site-trees/:id - удаление дерева
POST /api/site-trees/:id/nodes - добавление узла
PUT /api/nodes/:id - обновление узла
DELETE /api/nodes/:id - удаление узла
PUT /api/nodes/:id/move - перемещение узла


Валидация структуры

Проверка уникальности slug в пределах дерева
Проверка корректности parent_id
Расчет depth автоматически


Экспорт/импорт дерева (JSON)

POST /api/site-trees/:id/export - экспорт
POST /api/site-trees/import - импорт



Frontend (Next.js + TypeScript):

Установить зависимости

npm install reactflow
npm install dagre @types/dagre
npm install react-arborist


Страница списка деревьев

Список всех деревьев сайта
Кнопка "Создать новое дерево"


Диалог создания дерева

Выбор способа: Manual/Import/AI/Scan (пока только Manual)
Поле названия
Создание через API


React Flow редактор дерева

Настройка React Flow canvas
Кастомные ноды с shadcn Card
Отображение узлов дерева
Zoom/pan controls


Sidebar с древовидным списком (React Arborist)

Отображение всей структуры
Синхронизация с canvas


Операции с узлами

Форма добавления узла (slug, title, keywords)
Форма редактирования узла
Drag-and-drop перемещение узлов
Удаление узлов
Контекстное меню на узле


Auto-layout с dagre

Автоматическое позиционирование узлов
Кнопка "Пересчитать layout"


Сохранение изменений

Автосохранение при изменениях
Индикатор "сохранено/сохранение"



Тестирование:

Создание дерева с 3 уровнями вложенности
Добавление 20+ узлов
Перемещение узлов drag-and-drop
Проверка валидации (дубликаты slug)
Экспорт → Импорт (проверка корректности)


Фаза 2: Импорт структуры
Backend:

Парсер JSON файлов
Парсер CSV файлов (с учетом иерархии через columns или depth)
Парсер Excel файлов
Валидация импортируемых данных
POST /api/site-trees/import endpoint

Поддержка разных форматов
Маркировка узлов как source: imported



Frontend:

Добавить опцию "Import" в диалог создания
File upload компонент
Превью импортируемой структуры перед созданием
Обработка ошибок импорта

Тестирование:

Импорт из JSON с 50+ узлами
Импорт из CSV с иерархией
Импорт из Excel файла
Проверка корректности построенного дерева


Фаза 3: Сканер сайта ✅ ВЫПОЛНЕНО

Backend:

Модель ScanSession
Sitemap.xml парсер

Загрузка sitemap.xml по URL
Парсинг XML структуры
Извлечение всех URL


Web crawler (для сайтов без sitemap)

Рекурсивный обход страниц
Уважение к robots.txt
Лимиты на глубину и количество страниц


Парсер страниц

Извлечение title (meta/og:title)
Извлечение meta description
Извлечение H1
Базовый анализ контента для keywords


Построение иерархии из URL

Анализ URL структуры (/parent/child)
Создание родительских узлов
Определение типа страницы по URL паттернам


API endpoints

POST /api/site-trees/scan - запуск сканирования
GET /api/scans/:id/status - статус сканирования
POST /api/scans/:id/apply - применение результатов


Ре-сканирование

POST /api/site-trees/:id/rescan - синхронизация
Сравнение с текущим деревом
Определение изменений (новые/удаленные/измененные)



Frontend:

Добавить опцию "Scan Site" в диалог создания
Форма сканирования

Поле URL
Выбор метода (Sitemap/Crawler/Combined)
Опции (глубина, лимиты)


Прогресс сканирования

Статус: найдено страниц, обработано
Возможность отмены


Превью результатов сканирования

Структура дерева
Статистика
Кнопка "Создать дерево"


UI для ре-сканирования

Кнопка "Синхронизировать" в редакторе
Диалог с изменениями
Выбор действий (добавить/обновить/удалить)
Применение изменений


Визуальная индикация source

Иконки/цвета для разных source типов
Бейджи синхронизации (synced/outdated)



Тестирование:

Сканирование реального WordPress сайта
Проверка корректности иерархии
Тест ре-сканирования (добавить страницу на сайт → ре-сканировать)
Обработка ошибок (недоступный сайт, нет sitemap)


Фаза 4: ИИ-генерация структуры ✅ ВЫПОЛНЕНО
Backend:

Интеграция с OpenAI API
Промпт для генерации структуры дерева

Вход: тематика, уровни, количество страниц
Выход: JSON с деревом (slug, title, keywords)


POST /api/site-trees/generate-structure endpoint
Валидация сгенерированной структуры
Маркировка узлов как source: generated

Frontend:

Добавить опцию "AI Generate" в диалог создания
Форма генерации

Тематика сайта (textarea)
Количество уровней (slider 1-5)
Примерное количество страниц
Ключевые категории (опционально)


Прогресс генерации
Превью сгенерированной структуры
Возможность редактирования перед созданием

Тестирование:

Генерация структуры для 3 разных тематик
Проверка релевантности предложенных страниц
Оценка качества keywords


Фаза 5: Догенерация и дополнительные операции в редакторе
Backend:

POST /api/nodes/:id/generate-children endpoint

ИИ генерирует дочерние узлы для выбранного
Учет контекста родителя и существующих детей


POST /api/nodes/:id/suggest-keywords endpoint

ИИ анализирует узел и предлагает keywords


POST /api/site-trees/:id/import-into-node endpoint

Импорт файла как дочерние узлы выбранного


Копирование узлов/веток

POST /api/nodes/:id/copy endpoint



Frontend:

Кнопка "Догенерировать детей" в контекстном меню

Диалог с параметрами (количество детей, глубина)
Применение результатов


Кнопка "Предложить keywords"

ИИ анализ узла
Отображение предложений
Применение выбранных keywords


"Импортировать в узел"

File upload
Добавление как children


Копирование узлов

Copy/Paste через контекстное меню
Drag для дублирования



Тестирование:

Догенерация детей для 5 разных узлов
Проверка релевантности сгенерированных страниц
Копирование ветки из 10 узлов
Импорт файла в существующий узел


Фаза 6: Базовая генерация контента
Backend:

Интеграция с OpenAI API (GPT-4)
Модуль генерации контента - Стратегия 1 (базовая)

Создание промпта на основе (slug, title, keywords)
Вызов ИИ для генерации
Обработка ответа


Интеграция с WordPress REST API

Создание/обновление постов
Создание/обновление страниц
Работа с таксономиями
Загрузка featured images


API endpoints

POST /api/nodes/:id/generate-content - генерация для одного узла
POST /api/nodes/:id/publish - публикация на WP


Параметры генерации

Длина контента
Tone of voice
Структурные элементы (FAQ, lists)
Язык



Frontend:

Форма настройки генерации для узла

Выбор стратегии (пока только Basic)
Параметры (длина, tone, элементы)


Кнопка "Сгенерировать и опубликовать" (реалтайм)
Прогресс-бар генерации
Превью сгенерированного контента
Кнопка "Опубликовать" / "Сохранить как черновик"
Обработка ошибок

Тестирование:

Генерация контента для 10 узлов
Проверка публикации на WordPress
Оценка качества контента (релевантность, структура)
Проверка обработки ошибок (нет доступа к WP API)


Фаза 7: Система задач (Jobs)
Backend:

Модель ContentGenerationJob
Модель JobLog
Система очередей задач

Использование Go channels или библиотеки (asynq/machinery)
Worker pool для обработки


Scheduler для отложенных задач
Retry логика

Экспоненциальный backoff
Максимум попыток


API endpoints

POST /api/jobs - создание задачи
GET /api/jobs/:id - статус задачи
GET /api/jobs - список всех задач
POST /api/jobs/:id/pause - пауза
POST /api/jobs/:id/resume - возобновление
POST /api/jobs/:id/cancel - отмена
GET /api/jobs/:id/logs - логи выполнения



Frontend:

UI создания задачи

Выбор узлов для обработки
Настройки выполнения

Режим (immediate/scheduled/throttled)
Расписание
Страниц в час (throttling)
Случайные задержки


Выбор стратегии генерации


Страница "Задачи" (Jobs Dashboard)

Список всех задач
Фильтры (активные/завершенные/провалившиеся)
Карточки задач с прогрессом


Детальная страница задачи

Прогресс (processed/total)
Статус каждого узла
Логи выполнения
Кнопки управления (pause/resume/cancel)
Статистика (время, токены, стоимость)


Real-time обновления

WebSocket/SSE для прогресса
Desktop notifications при завершении



Тестирование:

Создание задачи на 50+ узлов
Проверка throttling (10 страниц/час)
Тест паузы/возобновления
Обработка ошибок (retry логика)
Проверка уведомлений


Фаза 8: Анализатор структуры
Backend:

Модуль анализа дерева

Расчет метрик (глубина, кол-во узлов, статусы)
Анализ глубины вложенности
Проверка длины slug/URL
Анализ распределения keywords (каннибализация)
Проверка наличия родительских страниц


GET /api/site-trees/:id/analyze endpoint

Возврат метрик и рекомендаций



Frontend:

Кнопка "Анализ структуры" в toolbar
Страница/модал с результатами

Общие метрики (stats)
Список проблем/предупреждений
Рекомендации по улучшению


Визуализация

Тепловая карта узлов (приоритет)
График глубины
Граф каннибализации keywords



Тестирование:

Анализ дерева с 100+ узлами
Проверка выявления проблем (дубликаты, глубина)
Оценка релевантности рекомендаций


Фаза 9: Продвинутые стратегии генерации
Backend:

Стратегия 2: Анализ конкурентов

Интеграция с поисковыми API (Google Search API / SerpAPI)
Web scraper для контента конкурентов
Анализ контента через ИИ

Определение структуры
Извлечение ключевых тем
Оценка длины и глубины


Генерация контента на основе best practices


Стратегия 3: Внешние сервисы

Интеграция с Ahrefs API (опционально)
Интеграция с SEMrush API (опционально)
Получение рекомендаций
Генерация с учетом рекомендаций


Стратегия 4: Гибридная

Комбинирование результатов разных стратегий
Настраиваемые "рецепты" генерации


Обновление ContentGenerationJob для поддержки всех стратегий

Frontend:

UI выбора стратегии генерации

Radio buttons: Basic/Competitor/External/Hybrid


Настройки для Competitor стратегии

Количество конкурентов для анализа
Глубина анализа


Настройки для External стратегии

Выбор сервиса
API ключи (если нужно)


Настройки для Hybrid стратегии

Выбор комбинаций
Веса стратегий


Отображение результатов анализа

Для Competitor: список проанализированных сайтов, insights
Для External: полученные рекомендации



Тестирование:

Генерация с анализом 5 конкурентов
Сравнение качества контента разных стратегий
Оценка времени генерации
Проверка стоимости (токены ИИ)


Фаза 10: ИИ-помощник для структуры
Backend:

Анализ структуры через ИИ

Промпт для анализа дерева
Выявление пробелов в структуре
Предложения новых разделов


POST /api/site-trees/:id/ai-suggestions endpoint

Возврат списка рекомендаций
Каждая рекомендация: тип, описание, предложенные узлы



Frontend:

Кнопка "ИИ-рекомендации" в toolbar
Модал с рекомендациями

Список предложений
Превью структуры для каждого предложения
Кнопка "Применить" для каждого


Применение рекомендаций

Добавление предложенных узлов в дерево
Маркировка как source: generated



Тестирование:

Получение рекомендаций для 3 разных тематик
Оценка релевантности предложений
Применение рекомендаций


Фаза 11: Система перелинковки (отдельный модуль)
Backend:

Анализ семантической близости страниц

Использование embeddings (OpenAI embeddings API)
Расчет similarity между узлами


Построение графа релевантности
Генерация внутренних ссылок

Выбор релевантных узлов для ссылок
Генерация контекстных анкоров через ИИ
Вставка ссылок в контент


API endpoints

POST /api/site-trees/:id/interlinking/analyze - анализ
POST /api/site-trees/:id/interlinking/generate - генерация ссылок
POST /api/site-trees/:id/interlinking/apply - применение


Настройки перелинковки

Максимум ссылок на страницу
Стратегия распределения
Типы анкоров
Ограничение по глубине



Frontend:

Страница "Перелинковка" (отдельный раздел)
UI настроек перелинковки

Параметры (макс. ссылок, стратегия)
Выбор узлов для перелинковки


Кнопка "Анализировать"

Отображение графа релевантности
Визуализация предложенных связей


Кнопка "Сгенерировать ссылки"

Прогресс генерации
Превью обновленного контента


Кнопка "Применить"

Обновление контента на WordPress
Статус применения



Тестирование:

Анализ графа для дерева из 50 узлов
Генерация ссылок для 20 страниц
Проверка контекстности анкоров
Применение на WordPress
Оценка качества перелинковки


Фаза 12: Дополнительные улучшения
Версионирование:

История изменений дерева
Undo/Redo в редакторе
Создание снимков (snapshots) дерева
Восстановление из снимка

Мультиязычность:

Поддержка генерации на разных языках
UI выбора языка для узла
Интеграция с WPML/Polylang

Медиа-генерация:

Интеграция с DALL-E/Midjourney
Генерация featured images на основе title/keywords
Автоматическая оптимизация alt-текстов
Загрузка изображений на WordPress

Проверка качества:

Интеграция с Copyscape API (проверка уникальности)
SEO-чеклист перед публикацией

Длина title (50-60 символов)
Meta description (150-160)
Структура заголовков (H1 уникален, иерархия H2-H6)
Наличие alt у изображений


Проверка читабельности (Flesch Reading Ease)
Грамматика и орфография (LanguageTool API)

Аналитика:

Интеграция с Google Analytics API

Отслеживание трафика созданных страниц
Дашборд с метриками


Интеграция с Google Search Console

Статус индексации
Ошибки краулинга
Позиции в поиске



Командная работа:

Система ревью контента
Роли и права доступа
Комментарии к узлам
Уведомления для команды

UX улучшения:

Keyboard shortcuts (добавить узел, удалить, копировать)
Поиск по дереву (fuzzy search)
Фильтры (по статусу, source, keywords)
Bulk operations (массовое изменение статуса, keywords)
Экспорт в разные форматы (PDF отчет, Excel)
Onboarding туториал для новых пользователей
Темная тема


8. Технические соображения
   8.1 Производительность

Кеширование:

Результаты анализа конкурентов (ttl: 24h)
ИИ-рекомендации по структуре (ttl: 1h)
Embeddings для перелинковки


Виртуализация UI:

React Flow с виртуализацией для деревьев 1000+ узлов
React Arborist с виртуализацией для sidebar


Batch операции:

Группировка запросов к WordPress API
Batch публикация постов


Rate limiting:

Защита OpenAI API (max requests/min)
WordPress API (учет лимитов хостинга)


Оптимизация запросов:

Lazy loading узлов дерева при открытии
Pagination для больших списков задач



8.2 Безопасность

Хранение ключей:

WordPress API credentials (зашифрованы в БД)
OpenAI API key (зашифрован)
Сторонние сервисы (Ahrefs, SEMrush)


Валидация:

Все входные данные (особенно slug, URL)
Защита от XSS при вставке контента
Санитизация при импорте файлов


Права доступа:

Разграничение прав для командной работы (читать/писать/публиковать)
Защита API endpoints (JWT/session)


Audit log:

Логирование всех критичных операций (публикация, удаление)



8.3 Мониторинг и логирование

Логирование:

Все операции с деревом (CRUD)
Генерация контента (начало, конец, ошибки)
Публикация на WordPress
Сканирование сайтов


Метрики:

Время генерации контента (avg/p95/p99)
Использование токенов ИИ (total/per day)
Стоимость операций (OpenAI API)
Успешность публикаций (success rate)


Алерты:

Провалы задач (error rate > threshold)
Переполнение очереди задач
Превышение бюджета на ИИ API
Недоступность WordPress API



8.4 UX принципы

Автосохранение:

Изменения в дереве сохраняются каждые 5 секунд
Индикатор статуса сохранения


Undo/Redo:

История последних 50 операций
Keyboard shortcuts (Ctrl+Z / Ctrl+Y)


Feedback:

Тосты для всех операций (успех/ошибка)
Прогресс-бары для длительных операций
Скелетоны при загрузке данных


Помощь:

Tooltips на сложных элементах
Onboarding туториал для первого запуска
Документация (help center)


Accessibility:

Keyboard navigation
ARIA labels
Контрастность цветов (WCAG AA)